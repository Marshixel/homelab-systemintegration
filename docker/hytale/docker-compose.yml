# =============================================================================
# Hytale Server Docker Compose
# Generated by Hytale Compose Builder
# https://setuphytale.com
# =============================================================================
#
# First Run (OAuth required):
#   docker compose run --rm hytale
#
# Subsequent Runs:
#   docker compose up -d
#
# =============================================================================
services:
  hytale:
    image: ghcr.io/godstepx/docker-hytale-server:latest
    container_name: hytale-server
    restart: unless-stopped
    stdin_open: true
    tty: true
    ports:
      - 5520:5520/udp
    volumes:
      - ./data:/data
    environment:
      JAVA_XMS: 8G
      JAVA_XMX: 8G
      AUTH_MODE: authenticated
      SERVER_NAME: Hytale Server
      MAX_PLAYERS: 100
      MAX_VIEW_RADIUS: 32
      HYTALE_PATCHLINE: release
    healthcheck:
      test:
        - CMD
        - /opt/hytale/scripts/healthcheck.sh
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 120s
    logging:
      driver: json-file
      options:
        max-size: 50m
        max-file: "5"
